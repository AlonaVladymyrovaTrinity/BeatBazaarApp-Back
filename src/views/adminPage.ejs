<!DOCTYPE html>
<html>
<head>
  <title>Admin Page</title>
  <link rel="stylesheet" href="/style.css">
  <script src="/admin.js" defer></script>
</head>
<body>
  <h1>Admin Page</h1>
  <div id="successMessage" style="color: green;"></div>
  <div id="errorMessage" style="color: red;"></div>
  <form id="priceEditForm">
    <label for="newPrice">Enter New Price:</label>
    <input type="number" id="newPrice" name="newPrice" min="0.00" step="0.01">
    <button type="button" id="updatePriceBtn">Update Prices</button>
  </form>
  <% function formatPrice(price) {
    return price.toLocaleString('en-US', { style: 'currency', currency: 'USD' });
  } %>
  <table>
    <thead>
      <tr>
        <th>Album Title</th>
        <th>Artist</th>
        <th>Price</th>
        <th>Select</th>
      </tr>
    </thead>
    <tbody>
      <% albums.forEach(function (album) { %>
        <tr>
          <td><%= album.albumName %></td>
          <td><%= album.artistName %></td>
          <td><%= formatPrice(album.price) %></td>
          <td><input type="checkbox" value="<%= album._id %>"></td>
        </tr>
      <% }); %>
    </tbody>
  </table>
  <script src="/admin.js"></script>
</body>
</html>